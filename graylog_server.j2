is_leader = {{ hostvars[inventory_hostname]['is_leader'] }}
node_id_file = /etc/graylog/server/node-id
password_secret = {{ graylog_password_secret }}
root_username = {{ graylog_root_username }}
root_password_sha2 = {{ graylog_root_password_sha2 }}
bin_dir = /usr/share/graylog-server/bin
data_dir = /var/lib/graylog-server
plugin_dir = /usr/share/graylog-server/plugin
http_bind_address = 0.0.0.0:{{ graylog_port }}
http_publish_uri = http://{{ ansible_host }}:{{ graylog_port }}/
stream_aware_field_types=false
elasticsearch_hosts = {% for host in groups['opensearch'] %}http://{{ hostvars[host]['ansible_host'] }}:9200{% if not loop.last %},{% endif %}{% endfor %} 
rotation_strategy = count
elasticsearch_max_docs_per_index = 20000000
elasticsearch_max_number_of_indices = 20
retention_strategy = delete
elasticsearch_shards = 4
elasticsearch_replicas = 0
elasticsearch_index_prefix = graylog
allow_leading_wildcard_searches = false
allow_highlighting = false
elasticsearch_analyzer = standard
output_batch_size = 500
output_flush_interval = 1
output_fault_count_threshold = 5
output_fault_penalty_seconds = 30
processbuffer_processors = 5
outputbuffer_processors = 3
processor_wait_strategy = blocking
ring_size = 65536
inputbuffer_ring_size = 65536
inputbuffer_processors = 2
inputbuffer_wait_strategy = blocking
message_journal_enabled = true
message_journal_dir = /var/lib/graylog-server/journal
lb_recognition_period_seconds = 3
stale_leader_timeout = 10000
mongodb_uri = mongodb://{{ graylog_database_user }}:{{ graylog_database_password }}@{% for host in groups['opensearch'] %}{{ hostvars[host]['ansible_host'] }}:{{ graylog_database_port }}{% if not loop.last %},{% endif %}{% endfor %}/{{ graylog_database }}?replicaSet={{ graylog_database_replica_set }}
mongodb_max_connections = 1000
root_timezone = {{ graylog_timezone }}



